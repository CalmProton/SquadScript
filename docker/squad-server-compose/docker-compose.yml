version: "3"
volumes:
  squad-data:

services:
  squad-server:
    image: cm2network/squad:latest
    container_name: squad-dedicated
    stdin_open: true
    tty: true
    restart: unless-stopped
    network_mode: host
    volumes:
      # Named volume - Docker manages initialization properly
      - squad-data:/home/steam/squad-dedicated/
    environment:
      # Game Ports
      - PORT=7787
      - QUERYPORT=27165
      - RCONPORT=21114
      - beaconport=15000
      # Server Settings
      - FIXEDMAXPLAYERS=88
      # Optional: Uncomment for beta access
      # - BETA=
      # - BETAPASSWORD=
    ports:
      - 7787:7787/tcp
      - 7788:7788/tcp
      - 15000:15000/tcp
      - 27165:27165/tcp
      - 27166:27166/tcp
      - 21114:21114/tcp
      - 7787:7787/udp
      - 7788:7788/udp
      - 15000:15000/udp
      - 27165:27165/udp
      - 27166:27166/udp
      - 21114:21114/udp
